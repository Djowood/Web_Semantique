{% extends "base.html" %}
{% block title %} - Results {% endblock %}
{% block content %}
<h1>Results</h1>

<div id="graphe"></div>
<div >
	<h1>Acteurs</h1>
	<div id="acteurs"></div>
</div>

<script>
	//var matrice = {{matrice}};
	var acteurs = $.parseJSON("{{targets}}".replace(/&#([0-9]{1,3});/gi, 
         function(match, numStr) {
           var num = parseInt(numStr, 10); // read num as normal number
           return String.fromCharCode(num);    
         })
	);

	$.each(acteurs, function(indice, value){
		$("#acteurs").append("<div class='row'> <div id='thumbnail' class='col-md-6'> <img src='" + value.thumbnail + "' /> </div> <div class='col-md-6'> <div id='nom' class='row'> <b>Nom :</b> " + value.alias + " </div> <div id='birth' class='row'> <b>Date de naissance :</b>" + value.birth + " <div id='resume' class='row'> <b>Histoire :</b>" + value.resume + " </div></div></div>")
	})

	var links = [
		{source: "Microsoft", target: "Amazon", type: "licensing"},
		{source: "Microsoft", target: "HTC", type: "licensing"},
		{source: "Samsung", target: "Apple", type: "suit"},
		{source: "Motorola", target: "Apple", type: "suit"},
		{source: "Nokia", target: "Apple", type: "resolved"},
		{source: "HTC", target: "Apple", type: "suit"},
		{source: "Kodak", target: "Apple", type: "suit"},
		{source: "Microsoft", target: "Barnes & Noble", type: "suit"},
		{source: "Microsoft", target: "Foxconn", type: "suit"},
		{source: "Oracle", target: "Google", type: "suit"},
		{source: "Apple", target: "HTC", type: "suit"},
		{source: "Microsoft", target: "Inventec", type: "suit"},
		{source: "Samsung", target: "Kodak", type: "resolved"},
		{source: "LG", target: "Kodak", type: "resolved"},
		{source: "RIM", target: "Kodak", type: "suit"},
		{source: "Sony", target: "LG", type: "suit"},
		{source: "Kodak", target: "LG", type: "resolved"},
		{source: "Apple", target: "Nokia", type: "resolved"},
		{source: "Qualcomm", target: "Nokia", type: "resolved"},
		{source: "Apple", target: "Motorola", type: "suit"},
		{source: "Microsoft", target: "Motorola", type: "suit"},
		{source: "Motorola", target: "Microsoft", type: "suit"},
		{source: "Huawei", target: "ZTE", type: "suit"},
		{source: "Ericsson", target: "ZTE", type: "suit"},
		{source: "Kodak", target: "Samsung", type: "resolved"},
		{source: "Apple", target: "Samsung", type: "suit"},
		{source: "Kodak", target: "RIM", type: "suit"},
		{source: "Nokia", target: "Qualcomm", type: "suit"}
	];
	
	d3Graphe(links, "#graphe");

</script>
{% endblock %}